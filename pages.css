/* ================= HERO ================= */
.hero {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-top: 5em;
}

.hero-bg {
    position: absolute;
    inset: 0;
    background: url('image/theater.png') center/cover no-repeat;
    z-index: 0;
}

.hero-content {
    position: absolute;
    top: 10%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 1;
    width: 90%;
    max-width: 62.5em;
    padding: 0 0.9375em;
    box-sizing: border-box;
}

.hero-content h1 {
    font-size: 4.2rem;
    margin: 0 0 0.75em;
    color: #d0a459;
    text-shadow: 0 0.1875em 0.75em rgba(0,0,0,0.8);
    font-weight: 700;
    letter-spacing: 1.2px;
    line-height: 1.1;
}

.hero-content p {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.6rem;
    font-weight: 400;
    margin: 0;
    color: #fbeccb;
    font-style: italic;
    opacity: 0.95;
    letter-spacing: 0.8px;
    line-height: 1.4;
}

/* Стили для кликабельного заголовка */
.hero-text h1 {
    cursor: pointer;
    transition: color 0.3s, text-decoration 0.3s;
    position: relative;
    z-index: 10;
}

.hero-text h1:hover {
    color: #d0a459;
    text-shadow: 0 0 2px rgba(208, 164, 89, 0.5), 0 0 4px rgba(208, 164, 89, 0.3);
}

.hero-overlay {
    pointer-events: none;
}

/* Колонны */
.hero-wrapper { position: relative; width: 100%; margin-top: 5em; overflow: hidden; }

.column {
    position: absolute;
    top: 0;
    width: 3.75em;
    height: 100%;
    background: #e0caa4;
    z-index: 2;
    pointer-events: none;
    overflow: hidden;
    box-shadow: inset 0 0 1.25em rgba(0,0,0,0.8), 0 0 1.875em rgba(0,0,0,0.5);
}
.column-left { left: 0; }
.column-right { right: 0; }

.column::after {
    content: '';
    position: absolute;
    top: 0.625em;
    left: 0;
    width: 100%;
    height: 4.0625em;
    background: linear-gradient(to bottom, #777a81, #4a4c4f);
    border-bottom: 0.375em solid #3f4043;
    box-shadow: 0 0.375em 0.9375em rgba(0,0,0,0.7);
}

.base {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3.75em;
    background: #3f3f42;
    border-top: 0.375em solid #4a4b4e;
}

.column::before {
    content: '';
    position: absolute;
    top: 4.375em;
    bottom: 3.75em;
    left: 0;
    width: 100%;
    background: repeating-linear-gradient(
            90deg,
            transparent 0px,
            transparent 0.375em,
            rgba(255,255,255,0.1) 0.375em,
            rgba(255,255,255,0.1) 0.5em
    );
}

/* Занавес */
.curtain {
    position: absolute;
    top: 0;
    height: 100%;
    width: 50%;
    background: radial-gradient(ellipse at center, #6b1c1c, #3d0f0f);
    z-index: 1;
    box-shadow: inset 0 0 1.875em rgba(0,0,0,0.6);
    overflow: hidden;
}
.curtain-left { left: 0; transform: translateX(-80%); }
.curtain-right { right: 0; transform: translateX(80%); }

.curtain::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
            radial-gradient(circle at 25% 50%, rgba(255,255,255,0.08) 0%, transparent 50%),
            radial-gradient(circle at 75% 50%, rgba(255,255,255,0.06) 0%, transparent 50%);
    opacity: 0.7;
    pointer-events: none;
}
.curtain::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
            90deg,
            rgba(0,0,0,0.15) 0px,
            rgba(0,0,0,0.71) 1.5625em,
            rgba(255,255,255,0.08) 2.1875em,
            rgba(0,0,0,0.15) 2.8125em
    );
    opacity: 0.35;
    mix-blend-mode: multiply;
    animation: curtainFlow 6s ease-in-out infinite alternate;
    pointer-events: none;
}
@keyframes curtainFlow {
    0% { background-position-x: 0; }
    100% { background-position-x: 2.5em; }
}

/* ================= СПЕКТАКЛИ ================= */
.shows-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25em;
    padding: 1.25em 1.25em;
}

.show-item {
    width: 100%;
    height: 23.75em;
    position: relative;
    perspective: 625em;
    transform-style: preserve-3d;
    transition: all 0.4s ease;
    transform: translateZ(0);
}

.show-front, .show-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    transition: transform 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
    border-radius: 1em;
    overflow: hidden;
    box-shadow: 0 0.625em 1.5625em rgba(0,0,0,0.5);
    transform-style: preserve-3d;
}

.show-front {
    background: linear-gradient(135deg, #591c1c, #3d0f0f);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #d0a459;
    text-align: center;
    z-index: 2;
}

.show-back { transform: rotateY(180deg); z-index: 1; }

.show-item:hover {
    transform: scale(1.03) translateZ(0);
    box-shadow: 0 1.25em 2.5em rgba(208, 164, 89, 0.3);
    z-index: 10;
}
.show-item:hover .show-front { transform: rotateY(-180deg); }
.show-item:hover .show-back { transform: rotateY(0deg); }

.show-back img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0; left: 0;
    z-index: 1;
}

.show-info {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, #000000);
    padding: 12.5em 1.25em 1.25em;
    color: #fbeccb;
    z-index: 2;
}

.show-info h3, .show-front h3 {
    font-family: 'Playfair Display', serif;
    font-weight: 600;
    margin: 0;
}
.show-info h3 { font-size: 1.3rem; }
.show-front h3 { font-size: 1.5rem; letter-spacing: 0.5px; }

.description, .show-front p {
    font-family: 'Cormorant Garamond', serif;
    line-height: 1.5;
    margin-top: 0.625em;
    margin-bottom: 0.625em;
}
.description { font-size: 1rem; }
.show-front p { font-size: 1.1rem; font-style: italic; margin: 0; }

/* ================= СТРАНИЦА СПЕКТАКЛЯ ================= */
.play-page { padding-top: 5em; background: #302f2d; color: #fbeccb; min-height: 100vh; }
.play-hero { position: relative; min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; overflow: hidden; }
.play-hero h1 { font-size: 3.5rem; color: #d0a459; text-shadow: 0 0.1875em 0.625em rgba(0,0,0,0.8); margin: 0; }
.play-hero .tagline { font-size: 1.4rem; font-style: italic; margin: 0.625em 0 0; }

.play-content { max-width: 62.5em; margin: 0 auto; padding: 2.5em 1.25em; }
.info-block p { font-size: 1.1rem; margin: 0.5em 0; }

.buy-section { text-align: center; margin: 3.125em 0; }

/* Карусель */
.carousel { position: absolute; inset: 0; overflow: hidden; }
.carousel img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 1s ease-in-out;
}
.carousel img.active { opacity: 1; z-index: 1; }

.hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    z-index: 1;
}
.hero-text { position: relative; z-index: 2; padding: 2em; }
.hero-text h1 { font-size: 3.5rem; margin-bottom: 0.5em; text-shadow: 0 0.125em 0.625em rgba(0,0,0,0.7); }
.hero-text .tagline { font-size: 1.5rem; font-weight: 300; text-shadow: 0 0.0625em 0.3125em rgba(0,0,0,0.7); }

.carousel-prev, .carousel-next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0,0,0,0.5);
    color: #d0a459;
    border: none;
    width: 3.125em;
    height: 3.125em;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    backdrop-filter: blur(0.25em);
    box-shadow: 0 0.25em 0.9375em rgba(0,0,0,0.3);
}
.carousel-prev:hover, .carousel-next:hover {
    background: rgba(208,164,89,0.8);
    color: #000;
    transform: translateY(-50%) scale(1.1);
}
.carousel-prev { left: 1.25em; }
.carousel-next { right: 1.25em; }

/* ================= СТРАНИЦА ЗАДАНИЙ ================= */
.task-page {
    padding-top: 5em;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: #302f2d;
}
.task-page .hero-wrapper {
    position: absolute;
    inset: 0;
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
}
.task-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2em 1.25em;
    max-width: 75em;
    margin: 0 auto;
    width: 100%;
    text-align: center;
    position: relative;
    z-index: 2;
}
.quiz-content-container {
    width: 100%;
    max-width: 820px;
    margin: 0 auto;
    padding: 2em 0;
}
.task-title {
    font-size: 2.5rem;
    color: #d0a459;
    margin-bottom: 1em;
    font-weight: 700;
    text-shadow: 0 0.125em 0.5em rgba(0,0,0,0.6);
}
.task-desc {
    font-size: 1.2rem;
    max-width: 50em;
    margin: 0 auto 2em;
    line-height: 1.6;
    opacity: 0.95;
}
.task-demo {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-width: 37.5em;
    perspective: 93.75em;
    margin: 0 auto;
}

.task-page .column,
.task-page .curtain {
    height: 100%;
    position: absolute;
    overflow: hidden;
}
.task-page .hero-wrapper { height: 100%; overflow: hidden; }